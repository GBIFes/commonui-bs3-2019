var $__build_47_js_47_settings_46_js__=function(){"use strict";var e=void 0===e?{isDevel:!0,layoutUrl:"https://demo.gbif.es/",sentryUrl:"https://e8b7082a5d2f4d659690e56438f6015c@sentry.comunes.org/17"}:e;console.log("settings loaded");var t=e;return{get default(){return t}}}(),$__build_47_js_47_url_46_js__=function(){"use strict";var e,_,f,h,t,d,g,m,v,b,n,o,r,i,a,s,y,l,C,w,j,q;function x(){return C?l=l||"file://"+(process.platform.match(t)?"/":"")+w("fs").realpathSync("."):document.location.href}function u(e,t,n){var o,r,i;t=t||x(),C?o=w("url").parse(t):(o=document.createElement("a")).href=t;var s=function(e){var t={path:!0,query:!0,hash:!0};return e&&_.test(e)&&(t.protocol=!0,t.host=!0,f.test(e)&&(t.port=!0),h.test(e)&&(t.user=!0,t.pass=!0)),t}(t);for(r in i=t.match(h)||[],j)s[r]?e[r]=o[j[r]]||"":e[r]="";if(e.protocol=e.protocol.replace(d,""),e.query=e.query.replace(g,""),e.hash=$(e.hash.replace(m,"")),e.user=$(i[1]||""),e.pass=$(i[2]||""),e.port=q[e.protocol]==e.port||0==e.port?"":e.port,!s.protocol&&y.test(t.charAt(0))&&(e.path=t.split("?")[0].split("#")[0]),!s.protocol&&n){var a=new D(x().match(v)[0]),l=a.path.split("/"),u=e.path.split("/"),c=["protocol","user","pass","host","port"],p=c.length;for(l.pop(),r=0;r<p;r++)e[c[r]]=a[c[r]];for(;".."===u[0];)l.pop(),u.shift();e.path=("/"!==t.charAt(0)?l.join("/"):"")+"/"+u.join("/")}e.path=e.path.replace(b,"/"),e.paths(e.paths()),e.query=new k(e.query)}function c(e){return encodeURIComponent(e).replace(n,"%27")}function $(e){return(e=(e=(e=e.replace(a," ")).replace(o,function(e,t,n,o){var r=parseInt(t,16)-224,i=parseInt(n,16)-128;if(0==r&&i<32)return e;var s=(r<<12)+(i<<6)+(parseInt(o,16)-128);return 65535<s?e:String.fromCharCode(s)})).replace(r,function(e,t,n){var o=parseInt(t,16)-192;if(o<2)return e;var r=parseInt(n,16)-128;return String.fromCharCode((o<<6)+r)})).replace(i,function(e,t){return String.fromCharCode(parseInt(t,16))})}function k(e){for(var t=e.split("&"),n=0,o=t.length;n<o;n++){var r=t[n].split("="),i=decodeURIComponent(r[0].replace(a," "));if(i){var s=void 0!==r[1]?$(r[1]):null;void 0===this[i]?this[i]=s:(this[i]instanceof Array||(this[i]=[this[i]]),this[i].push(s))}}}function D(e,t){u(this,e,!t)}return e="undefined"!=typeof module&&module.exports?module:window,_=/^[a-z]+:/,f=/[-a-z0-9]+(\.[-a-z0-9])*:\d+/i,h=/\/\/(.*?)(?::(.*?))?@/,t=/^win/i,d=/:$/,g=/^\?/,m=/^#/,v=/(.*\/)/,b=/^\/{2,}/,n=/'/g,o=/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,r=/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,i=/%([0-7][0-9a-f])/gi,a=/\+/g,s=/^\w:$/,y=/[^/#?]/,C="undefined"==typeof window&&"undefined"!=typeof global&&"function"==typeof require,w=C?e.require:null,j={protocol:"protocol",host:"hostname",port:"port",path:"pathname",query:"search",hash:"hash"},q={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},k.prototype.toString=function(){var e,t,n="",o=c;for(e in this){var r=this[e];if(!(r instanceof Function||null===r))if(r instanceof Array){var i=r.length;if(i)for(t=0;t<i;t++){var s=r[t];n+=n?"&":"",n+=o(e)+(null==s?"":"="+o(s))}else n+=(n?"&":"")+o(e)+"="}else n+=n?"&":"",n+=o(e)+(void 0===r?"":"="+o(r))}return n},D.prototype.clearQuery=function(){for(var e in this.query)this.query[e]instanceof Function||delete this.query[e];return this},D.prototype.queryLength=function(){var e=0;for(var t in this.query)this.query[t]instanceof Function||e++;return e},D.prototype.isEmptyQuery=function(){return 0===this.queryLength()},D.prototype.paths=function(e){var t,n="",o=0;if(e&&e.length&&e+""!==e){for(this.isAbsolute()&&(n="/"),t=e.length;o<t;o++)e[o]=!o&&s.test(e[o])?e[o]:c(e[o]);this.path=n+e.join("/")}for(o=0,t=(e=("/"===this.path.charAt(0)?this.path.slice(1):this.path).split("/")).length;o<t;o++)e[o]=$(e[o]);return e},D.prototype.encode=c,D.prototype.decode=$,D.prototype.isAbsolute=function(){return this.protocol||"/"===this.path.charAt(0)},D.prototype.toString=function(){return(this.protocol&&this.protocol+"://")+(this.user&&c(this.user)+(this.pass&&":"+c(this.pass))+"@")+(this.host&&this.host)+(this.port&&":"+this.port)+(this.path&&this.path)+(this.query.toString()&&"?"+this.query)+(this.hash&&"#"+c(this.hash))},e[e.exports?"exports":"Url"]=D,{}}(),$__build_47_js_47_js_46_cookie_46_js__=function(){"use strict";return function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"===("undefined"==typeof exports?"undefined":$traceurRuntime.typeof(exports))&&(module.exports=e(),t=!0),!t){var n=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function a(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function u(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(l){function s(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=a({path:"/"},s.defaults,n)).expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var o=JSON.stringify(t);/^[\{\[]/.test(o)&&(t=o)}catch(e){}t=l.write?l.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r="";for(var i in n)n[i]&&(r+="; "+i,!0!==n[i]&&(r+="="+n[i].split(";")[0]));return document.cookie=e+"="+t+r}}function t(e,t){if("undefined"!=typeof document){for(var n={},o=document.cookie?document.cookie.split("; "):[],r=0;r<o.length;r++){var i=o[r].split("="),s=i.slice(1).join("=");t||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var a=u(i[0]);if(s=(l.read||l)(s,a)||u(s),t)try{s=JSON.parse(s)}catch(e){}if(n[a]=s,e===a)break}catch(e){}}return e?n[e]:n}}return s.set=n,s.get=function(e){return t(e,!1)},s.getJSON=function(e){return t(e,!0)},s.remove=function(e,t){n(e,"",a(t,{expires:-1}))},s.defaults={},s.withConverter=e,s}(function(){})}),{}}(),$__build_47_js_47_i18n_95_init_46_js__=function(){"use strict";var e,t=$__build_47_js_47_settings_46_js__.default,n=new Url,o=["es","en","ca"];if(t.isDevel&&console.log("Is development!"),void 0===e&&(t.isDevel&&console.log("init locale: "+e),e=n.query.lang,t.isDevel&&console.log("Lang locale: "+e),void 0===e&&(e=Cookies.get("datos-gbif-es-lang")),t.isDevel&&console.log("Initial locale: "+e),null==e&&(e=navigator.language.substring(0,2)),-1<o.indexOf(e)||(e="es"),t.isDevel&&console.log("End locale: "+e),Cookies.set("datos-gbif-es-lang",e,{expires:365,path:"/"}),Cookies.set("datos-gbif-es-lang",e,{expires:365,path:"/",domain:".gbif.es"})),void 0===Cookies.get("datos-gbif-es-lang-session")&&void 0===n.query.lang){Cookies.set("datos-gbif-es-lang-session","/",{expires:1/48}),n.query.lang=e,document.location.search=n.query}return Object.freeze(e),Object.freeze(o),{get locale(){return e},get enabledLangs(){return o}}}(),$__build_47_js_47_i18n_95_menus_46_js__=function(){"use strict";var l=$__build_47_js_47_settings_46_js__.default,e=$__build_47_js_47_i18n_95_init_46_js__,u=e.locale,c=e.enabledLangs;return document.addEventListener("DOMContentLoaded",function(){!function(){l.isDevel&&console.log("locale in i18n_menus: "+u),u&&$(".top-nav-menu a, .portal-link").each(function(){var e=$(this),t=e.attr("href"),n=t.split("#")[0],o=t.split("#")[1];void 0===o?e.attr("href",t+"?lang="+u):e.attr("href",n+"?lang="+u+"#"+o),l.isDevel&&console.log("Added lang to href: "+e.attr("href"))});for(var e=window.location.href,t=0;t<c.length;t++){var n=c[t],o=$("."+n+"-locale-link"),r=e;if(e.includes("lang="))r=e.replace(/lang=en|lang=es|lang=ca/gi,"lang="+n);else if(e.includes("?"))r=r+"&lang="+n;else{var i=e.split("#")[0],s=e.split("#")[1];r=i+"?lang="+n+(s=void 0===s?"":"#"+s)}o.attr("href",r),l.isDevel&&console.log("Added lang to href: "+o.attr("href"))}$(".wpml-ls-statics-shortcode_actions ul li").each(function(e){var t=$(this).text().replace(/^\s+|\s+$/gm,"").toLowerCase();$(this).removeClass("wpml-ls-current-language"),t===u&&$(this).addClass("wpml-ls-current-language")});var a=l.layoutUrl+"i18n/";l.isDevel&&console.log("localePath: "+a),jQuery.i18n.properties({name:"messages",path:a,mode:"both",language:u,async:!0,callback:function(){for(var e=["main_title_label","menu_portal_part1","menu_portal_part2","menu_collections","menu_datasets","menu_search","menu_explore","menu_regions","top_menu_dataportal","footer_menu_about","footer_menu_biodiversity_data","footer_menu_collaborations","footer_menu_resources","footer_menu_news","footer_menu_training","footer_menu_software","footer_menu_contact","numbers_occurrences_label","numbers_datasets_label","numbers_institutions_label","numbers_species_label","lang_link_en","lang_link_es","lang_link_cat","footer_legal_info","search_input_advanced1","search_input_advanced2","sub_menu_collections","sub_menu_collections_detail","sub_menu_datasets","sub_menu_datasets_detail","sub_menu_explore","sub_menu_explore_detail","sub_menu_regions","sub_menu_regions_detail","footer_legal_code","banner_search_input_placeholder","main_search_input_placeholder","auth_bar_login","auth_bar_logout","auth_bar_signup","auth_bar_myprofile","autocompleteHeader_placeholder"],t=0;t<e.length;t++)if(e[t].endsWith("_placeholder")){var n=e[t].substring(0,e[t].length-12);$("#"+n).attr("placeholder",jQuery.i18n.prop(e[t]))}else $("#"+e[t]).html(jQuery.i18n.prop(e[t]))}})}()}),{}}();