var $__build_47_js_47_url_46_js__=function(){"use strict";var e,f,h,d,t,g,_,v,y,m,o,r,n,s,a,i,b,c,C,w,j,q;function $(){return C?c=c||"file://"+(process.platform.match(t)?"/":"")+w("fs").realpathSync("."):document.location.href}function u(e,t,o){var r,n,s;t=t||$(),C?r=w("url").parse(t):(r=document.createElement("a")).href=t;var i=function(e){var t={path:!0,query:!0,hash:!0};return e&&f.test(e)&&(t.protocol=!0,t.host=!0,h.test(e)&&(t.port=!0),d.test(e)&&(t.user=!0,t.pass=!0)),t}(t);for(n in s=t.match(d)||[],j)i[n]?e[n]=r[j[n]]||"":e[n]="";if(e.protocol=e.protocol.replace(g,""),e.query=e.query.replace(_,""),e.hash=S(e.hash.replace(v,"")),e.user=S(s[1]||""),e.pass=S(s[2]||""),e.port=q[e.protocol]==e.port||0==e.port?"":e.port,!i.protocol&&b.test(t.charAt(0))&&(e.path=t.split("?")[0].split("#")[0]),!i.protocol&&o){var a=new I($().match(y)[0]),c=a.path.split("/"),u=e.path.split("/"),p=["protocol","user","pass","host","port"],l=p.length;for(c.pop(),n=0;n<l;n++)e[p[n]]=a[p[n]];for(;".."===u[0];)c.pop(),u.shift();e.path=("/"!==t.charAt(0)?c.join("/"):"")+"/"+u.join("/")}e.path=e.path.replace(m,"/"),e.paths(e.paths()),e.query=new x(e.query)}function p(e){return encodeURIComponent(e).replace(o,"%27")}function S(e){return(e=(e=(e=e.replace(a," ")).replace(r,function(e,t,o,r){var n=parseInt(t,16)-224,s=parseInt(o,16)-128;if(0==n&&s<32)return e;var i=(n<<12)+(s<<6)+(parseInt(r,16)-128);return 65535<i?e:String.fromCharCode(i)})).replace(n,function(e,t,o){var r=parseInt(t,16)-192;if(r<2)return e;var n=parseInt(o,16)-128;return String.fromCharCode((r<<6)+n)})).replace(s,function(e,t){return String.fromCharCode(parseInt(t,16))})}function x(e){for(var t=e.split("&"),o=0,r=t.length;o<r;o++){var n=t[o].split("="),s=decodeURIComponent(n[0].replace(a," "));if(s){var i=void 0!==n[1]?S(n[1]):null;void 0===this[s]?this[s]=i:(this[s]instanceof Array||(this[s]=[this[s]]),this[s].push(i))}}}function I(e,t){u(this,e,!t)}return e="undefined"!=typeof module&&module.exports?module:window,f=/^[a-z]+:/,h=/[-a-z0-9]+(\.[-a-z0-9])*:\d+/i,d=/\/\/(.*?)(?::(.*?))?@/,t=/^win/i,g=/:$/,_=/^\?/,v=/^#/,y=/(.*\/)/,m=/^\/{2,}/,o=/'/g,r=/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,n=/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,s=/%([0-7][0-9a-f])/gi,a=/\+/g,i=/^\w:$/,b=/[^/#?]/,C="undefined"==typeof window&&"undefined"!=typeof global&&"function"==typeof require,w=C?e.require:null,j={protocol:"protocol",host:"hostname",port:"port",path:"pathname",query:"search",hash:"hash"},q={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},x.prototype.toString=function(){var e,t,o="",r=p;for(e in this){var n=this[e];if(!(n instanceof Function||null===n))if(n instanceof Array){var s=n.length;if(s)for(t=0;t<s;t++){var i=n[t];o+=o?"&":"",o+=r(e)+(null==i?"":"="+r(i))}else o+=(o?"&":"")+r(e)+"="}else o+=o?"&":"",o+=r(e)+(void 0===n?"":"="+r(n))}return o},I.prototype.clearQuery=function(){for(var e in this.query)this.query[e]instanceof Function||delete this.query[e];return this},I.prototype.queryLength=function(){var e=0;for(var t in this.query)this.query[t]instanceof Function||e++;return e},I.prototype.isEmptyQuery=function(){return 0===this.queryLength()},I.prototype.paths=function(e){var t,o="",r=0;if(e&&e.length&&e+""!==e){for(this.isAbsolute()&&(o="/"),t=e.length;r<t;r++)e[r]=!r&&i.test(e[r])?e[r]:p(e[r]);this.path=o+e.join("/")}for(r=0,t=(e=("/"===this.path.charAt(0)?this.path.slice(1):this.path).split("/")).length;r<t;r++)e[r]=S(e[r]);return e},I.prototype.encode=p,I.prototype.decode=S,I.prototype.isAbsolute=function(){return this.protocol||"/"===this.path.charAt(0)},I.prototype.toString=function(){return(this.protocol&&this.protocol+"://")+(this.user&&p(this.user)+(this.pass&&":"+p(this.pass))+"@")+(this.host&&this.host)+(this.port&&":"+this.port)+(this.path&&this.path)+(this.query.toString()&&"?"+this.query)+(this.hash&&"#"+p(this.hash))},e[e.exports?"exports":"Url"]=I,{}}(),$__build_47_js_47_settings_46_js__=function(){"use strict";var e=void 0===e?{isDevel:!0,layoutUrl:"https://demo.gbif.es/",sentryUrl:"https://e8b7082a5d2f4d659690e56438f6015c@sentry.comunes.org/17"}:e;console.log("settings loaded");var t=e;return{get default(){return t}}}(),$__build_47_js_47_js_46_cookie_46_js__=function(){"use strict";return function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"===("undefined"==typeof exports?"undefined":$traceurRuntime.typeof(exports))&&(module.exports=e(),t=!0),!t){var o=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=o,r}}}(function(){function a(){for(var e=0,t={};e<arguments.length;e++){var o=arguments[e];for(var r in o)t[r]=o[r]}return t}function u(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(c){function i(){}function o(e,t,o){if("undefined"!=typeof document){"number"==typeof(o=a({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var r=JSON.stringify(t);/^[\{\[]/.test(r)&&(t=r)}catch(e){}t=c.write?c.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var n="";for(var s in o)o[s]&&(n+="; "+s,!0!==o[s]&&(n+="="+o[s].split(";")[0]));return document.cookie=e+"="+t+n}}function t(e,t){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],n=0;n<r.length;n++){var s=r[n].split("="),i=s.slice(1).join("=");t||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var a=u(s[0]);if(i=(c.read||c)(i,a)||u(i),t)try{i=JSON.parse(i)}catch(e){}if(o[a]=i,e===a)break}catch(e){}}return e?o[e]:o}}return i.set=o,i.get=function(e){return t(e,!1)},i.getJSON=function(e){return t(e,!0)},i.remove=function(e,t){o(e,"",a(t,{expires:-1}))},i.defaults={},i.withConverter=e,i}(function(){})}),{}}(),$__build_47_js_47_i18n_95_init_46_js__=function(){"use strict";var e,t=$__build_47_js_47_settings_46_js__.default,o=new Url,r=["es","en","ca"];if(t.isDevel&&console.log("Is development!"),void 0===e&&(t.isDevel&&console.log("init locale: "+e),e=o.query.lang,t.isDevel&&console.log("Lang locale: "+e),void 0===e&&(e=Cookies.get("datos-gbif-es-lang")),t.isDevel&&console.log("Initial locale: "+e),null==e&&(e=navigator.language.substring(0,2)),-1<r.indexOf(e)||(e="es"),t.isDevel&&console.log("End locale: "+e),Cookies.set("datos-gbif-es-lang",e,{expires:365,path:"/"}),Cookies.set("datos-gbif-es-lang",e,{expires:365,path:"/",domain:".gbif.es"})),void 0===Cookies.get("datos-gbif-es-lang-session")&&void 0===o.query.lang){Cookies.set("datos-gbif-es-lang-session","/",{expires:1/48}),o.query.lang=e,document.location.search=o.query}return Object.freeze(e),Object.freeze(r),{get locale(){return e},get enabledLangs(){return r}}}(),$__build_47_js_47_stats_46_js__=function(){"use strict";var i=$__build_47_js_47_i18n_95_init_46_js__.locale;function t(e){for(var t="en"===i?",":".",o=(e+="").split("."),r=o[0],n=1<o.length?"."+o[1]:"",s=/(\d+)(\d{3})/;s.test(r);)r=r.replace(s,"$1"+t+"$2");return r+n}return document.addEventListener("DOMContentLoaded",function(){$.getJSON("https://registros-ws.gbif.es/occurrences/search?pageSize=0",function(e){$("#number_registros").html(t(e.totalRecords)).addClass("loaded_stats")}),$.getJSON("https://colecciones.gbif.es/ws/institution",function(e){$("#number_instituciones").html(e.length).addClass("loaded_stats")}),$.getJSON("https://colecciones.gbif.es/ws/dataResource",function(e){$("#number_bases").html(e.length).addClass("loaded_stats")}),$.getJSON("https://registros-ws.gbif.es/occurrence/facets?q=*:*&facets=species&pageSize=0",function(e){$("#number_species").html(t(e[0].count)).addClass("loaded_stats")})}),{}}();