var $__build_47_js_47_url_46_js__=function(){"use strict";var t,h,f,d,e,_,g,v,y,m,r,o,s,n,a,i,b,l,q,w,$,S;function j(){return q?l=l||"file://"+(process.platform.match(e)?"/":"")+w("fs").realpathSync("."):document.location.href}function u(t,e,r){var o,s,n;e=e||j(),q?o=w("url").parse(e):(o=document.createElement("a")).href=e;var i=function(t){var e={path:!0,query:!0,hash:!0};return t&&h.test(t)&&(e.protocol=!0,e.host=!0,f.test(t)&&(e.port=!0),d.test(t)&&(e.user=!0,e.pass=!0)),e}(e);for(s in n=e.match(d)||[],$)i[s]?t[s]=o[$[s]]||"":t[s]="";if(t.protocol=t.protocol.replace(_,""),t.query=t.query.replace(g,""),t.hash=C(t.hash.replace(v,"")),t.user=C(n[1]||""),t.pass=C(n[2]||""),t.port=S[t.protocol]==t.port||0==t.port?"":t.port,!i.protocol&&b.test(e.charAt(0))&&(t.path=e.split("?")[0].split("#")[0]),!i.protocol&&r){var a=new A(j().match(y)[0]),l=a.path.split("/"),u=t.path.split("/"),c=["protocol","user","pass","host","port"],p=c.length;for(l.pop(),s=0;s<p;s++)t[c[s]]=a[c[s]];for(;".."===u[0];)l.pop(),u.shift();t.path=("/"!==e.charAt(0)?l.join("/"):"")+"/"+u.join("/")}t.path=t.path.replace(m,"/"),t.paths(t.paths()),t.query=new I(t.query)}function c(t){return encodeURIComponent(t).replace(r,"%27")}function C(t){return(t=(t=(t=t.replace(a," ")).replace(o,function(t,e,r,o){var s=parseInt(e,16)-224,n=parseInt(r,16)-128;if(0==s&&n<32)return t;var i=(s<<12)+(n<<6)+(parseInt(o,16)-128);return 65535<i?t:String.fromCharCode(i)})).replace(s,function(t,e,r){var o=parseInt(e,16)-192;if(o<2)return t;var s=parseInt(r,16)-128;return String.fromCharCode((o<<6)+s)})).replace(n,function(t,e){return String.fromCharCode(parseInt(e,16))})}function I(t){for(var e=t.split("&"),r=0,o=e.length;r<o;r++){var s=e[r].split("="),n=decodeURIComponent(s[0].replace(a," "));if(n){var i=void 0!==s[1]?C(s[1]):null;void 0===this[n]?this[n]=i:(this[n]instanceof Array||(this[n]=[this[n]]),this[n].push(i))}}}function A(t,e){u(this,t,!e)}return t="undefined"!=typeof module&&module.exports?module:window,h=/^[a-z]+:/,f=/[-a-z0-9]+(\.[-a-z0-9])*:\d+/i,d=/\/\/(.*?)(?::(.*?))?@/,e=/^win/i,_=/:$/,g=/^\?/,v=/^#/,y=/(.*\/)/,m=/^\/{2,}/,r=/'/g,o=/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,s=/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,n=/%([0-7][0-9a-f])/gi,a=/\+/g,i=/^\w:$/,b=/[^/#?]/,q="undefined"==typeof window&&"undefined"!=typeof global&&"function"==typeof require,w=q?t.require:null,$={protocol:"protocol",host:"hostname",port:"port",path:"pathname",query:"search",hash:"hash"},S={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},I.prototype.toString=function(){var t,e,r="",o=c;for(t in this){var s=this[t];if(!(s instanceof Function||null===s))if(s instanceof Array){var n=s.length;if(n)for(e=0;e<n;e++){var i=s[e];r+=r?"&":"",r+=o(t)+(null==i?"":"="+o(i))}else r+=(r?"&":"")+o(t)+"="}else r+=r?"&":"",r+=o(t)+(void 0===s?"":"="+o(s))}return r},A.prototype.clearQuery=function(){for(var t in this.query)this.query[t]instanceof Function||delete this.query[t];return this},A.prototype.queryLength=function(){var t=0;for(var e in this.query)this.query[e]instanceof Function||t++;return t},A.prototype.isEmptyQuery=function(){return 0===this.queryLength()},A.prototype.paths=function(t){var e,r="",o=0;if(t&&t.length&&t+""!==t){for(this.isAbsolute()&&(r="/"),e=t.length;o<e;o++)t[o]=!o&&i.test(t[o])?t[o]:c(t[o]);this.path=r+t.join("/")}for(o=0,e=(t=("/"===this.path.charAt(0)?this.path.slice(1):this.path).split("/")).length;o<e;o++)t[o]=C(t[o]);return t},A.prototype.encode=c,A.prototype.decode=C,A.prototype.isAbsolute=function(){return this.protocol||"/"===this.path.charAt(0)},A.prototype.toString=function(){return(this.protocol&&this.protocol+"://")+(this.user&&c(this.user)+(this.pass&&":"+c(this.pass))+"@")+(this.host&&this.host)+(this.port&&":"+this.port)+(this.path&&this.path)+(this.query.toString()&&"?"+this.query)+(this.hash&&"#"+c(this.hash))},t[t.exports?"exports":"Url"]=A,{}}(),$__build_47_js_47_settings_46_js__=function(){"use strict";var t=void 0===t?{isDevel:!0,layoutUrl:"https://demo.gbif.es/",sentryUrl:"https://e8b7082a5d2f4d659690e56438f6015c@sentry.comunes.org/17"}:t;console.log("settings loaded");var e=t;return{get default(){return e}}}(),$__build_47_js_47_i18n_95_init_46_js__=function(){"use strict";var t,e,r=$__build_47_js_47_settings_46_js__.default,o=new Url,s=["es","en","ca"];return r.isDevel&&console.log("Is development!"),r.isDevel&&console.log("Current lang: "+o.query.lang),void 0===t&&(e=new URL(window.location.href),null!=(t=e.searchParams.get("lang"))?localStorage.setItem("locale",t):t=localStorage.getItem("locale"),null==t&&(t=navigator.language.substring(0,2)),r.isDevel&&console.log("Initial locale: "+t),-1<s.indexOf(t)||(t="es",localStorage.setItem("locale",t))),r.isDevel&&console.log("locale: "+t),{get locale(){return t},get enabledLangs(){return s}}}(),$__build_47_js_47_stats_46_js__=function(){"use strict";var i=$__build_47_js_47_i18n_95_init_46_js__.locale;function e(t){for(var e="en"===i?",":".",r=(t+="").split("."),o=r[0],s=1<r.length?"."+r[1]:"",n=/(\d+)(\d{3})/;n.test(o);)o=o.replace(n,"$1"+e+"$2");return o+s}return document.addEventListener("DOMContentLoaded",function(){$.getJSON("https://registros-ws.gbif.es/occurrences/search?pageSize=0",function(t){$("#number_registros").html(e(t.totalRecords)).addClass("loaded_stats")}),$.getJSON("https://colecciones.gbif.es/ws/institution",function(t){$("#number_instituciones").html(t.length).addClass("loaded_stats")}),$.getJSON("https://colecciones.gbif.es/ws/dataResource",function(t){$("#number_bases").html(t.length).addClass("loaded_stats")}),$.getJSON("https://registros-ws.gbif.es/occurrence/facets?q=*:*&facets=species&pageSize=0",function(t){$("#number_species").html(e(t[0].count)).addClass("loaded_stats")})}),{}}();